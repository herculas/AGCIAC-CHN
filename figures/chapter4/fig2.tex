\tikzset{every picture/.style={line width=0.75pt}}     

\begin{tikzpicture}[x=0.75pt,y=0.75pt,yscale=-0.9,xscale=0.9]

\draw  [line width=1.2]  (0,0) -- (180,0) -- (180,250) -- (0,250) -- cycle ;
\draw  [line width=1.2]  (290,0) -- (410,0) -- (410,250) -- (290,250) -- cycle ;
\draw  [line width=1.2]  (0,300) -- (180,300) -- (180,550) -- (0,550) -- cycle ;
\draw  [line width=1.2]  (290,300) -- (410,300) -- (410,550) -- (290,550) -- cycle ;

\draw  [->]  (290,140) -- (182,140) ;
\draw  [->]  (180,180) -- (288,180) ;
\draw  [->]  (290,220) -- (182,220) ;

\draw  [->]  (290,440) -- (182,440) ;
\draw  [->]  (180,480) -- (288,480) ;
\draw  [->]  (290,520) -- (182,520) ;


\draw [dash pattern={on 4.5pt off 4.5pt}] [<-]  (243.7,172.35) .. controls (241.98,179.91) and (238.73,185) .. (235,185) .. controls (229.48,185) and (225,173.81) .. (225,160) .. controls (225,146.19) and (229.48,135) .. (235,135) .. controls (239.21,135) and (242.81,141.5) .. (244.29,150.71) ;

\draw [dash pattern={on 4.5pt off 4.5pt}] [<-] (243.7,472.35) .. controls (241.98,479.91) and (238.73,485) .. (235,485) .. controls (229.48,485) and (225,473.81) .. (225,460) .. controls (225,446.19) and (229.48,435) .. (235,435) .. controls (239.21,435) and (242.81,441.5) .. (244.29,450.71) ;

\draw (90,20) node   [align=left] {挑战者};
\draw (90,45) node   [align=left] {(实验 $ 0$)};
\draw (45,90) node [anchor=west] [inner sep=0.75pt]    {$k\overset{\mathrm{R}}{\leftarrow }\mathcal{K}$};
\draw (45,160) node [anchor=west] [inner sep=0.75pt]    {$y_{i}\leftarrow E(k,x_{i})$};
\draw (265,136.6) node [anchor=south] [inner sep=0.75pt][font=\small]    {$x_{i} \in \mathcal{X}$};
\draw (200,176.6) node [anchor=south] [inner sep=0.75pt][font=\small]    {$y_{i}$};
\draw (235,216.6) node [anchor=south] [inner sep=0.75pt][font=\small]    {$\hat{b} \in \{0,1\}$};
\draw (350,20) node    {$\mathcal{A}$};

\draw (90,320) node   [align=left] {挑战者};
\draw (90,345) node   [align=left] {(实验 $ 1$)};
\draw (45,390) node [anchor=west] [inner sep=0.75pt]    {$f\overset{\mathrm{R}}{\leftarrow }\mathrm{Perm}[\mathcal{X}]$};
\draw (45,460) node [anchor=west] [inner sep=0.75pt]    {$y_{i}\leftarrow f(x_{i})$};
\draw (265,436.6) node [anchor=south] [inner sep=0.75pt][font=\small]    {$x_{i} \in \mathcal{X}$};
\draw (200,476.6) node [anchor=south] [inner sep=0.75pt][font=\small]    {$y_{i}$};
\draw (235,516.6) node [anchor=south] [inner sep=0.75pt][font=\small]    {$\hat{b} \in \{0,1\}$};
\draw (350,320) node    {$\mathcal{A}$};

\end{tikzpicture}